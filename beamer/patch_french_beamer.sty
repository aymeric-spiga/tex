
\usepackage{patch_french}

%%% pour afficher sections et sous-sections
\AtBeginSection[]
{
  \begin{frame}%<beamer>
    %\frametitle{Cours \Roman{part}. \insertpart}
    \frametitle{Plan}
    \tableofcontents[currentsection]
  \end{frame}
}
\AtBeginSubsection[]
{
  \begin{frame}%<beamer>
    %\frametitle{Cours \Roman{part}. \insertpart}
    \frametitle{Plan}
    \tableofcontents[currentsection,currentsubsection]
  \end{frame}
}
%\AtBeginPart{\frame{\frametitle{Cours \Roman{part}. \insertpart}\tableofcontents}}
\AtBeginPart{\frame{\frametitle{Plan}\tableofcontents}}
	%%% trick for section numbering within a lecture/part
	\numberwithin{section}{part}
	\AtBeginPart{\beamer@tocsectionnumber=0\relax}

%%% partie: pour corriger le problème des parties en français et inclure un sommaire automatique
\newcommand{\CurrentPart}{}
\newcommand{\partie}[1]{%%
 \part{#1}%%
 \renewcommand*{\CurrentPart}{{\Roman{part}. #1}}
 \setcounter{section}{0}%%
 \begin{otherlanguage}{english}%%
   \renewcommand*{\partname}{Cours}%%
   \frame{\partpage}%%
 \end{otherlanguage}%%
 \frame[c]{\frametitle{\hfil\CurrentPart\hfil}\tableofcontents}
}
	%%% SLIDEPLAN
\newcommand{\slideplan}{\slide{Plan}{\tableofcontents}}




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% SOUS-TITRE
\setbeamertemplate{footline}
{
  \hbox{%
  \begin{beamercolorbox}[wd=.40\paperwidth,ht=2.25ex,dp=1ex,center]{author in head/foot}%
    \usebeamerfont{author in head/foot}\insertshortauthor \quad (\insertshortinstitute)
  \end{beamercolorbox}%
  \begin{beamercolorbox}[wd=.45\paperwidth,ht=2.25ex,dp=1ex,center]{title in head/foot}%
    \usebeamerfont{title in head/foot}\insertshorttitle
  \end{beamercolorbox}%
  \begin{beamercolorbox}[wd=.15\paperwidth,ht=2.25ex,dp=1ex,right]{date in head/foot}%
    \usebeamerfont{date in head/foot}%\insertshortdate \qquad \qquad
    Transparent \insertpagenumber{} \hspace*{2ex}
  \end{beamercolorbox}}%
}
